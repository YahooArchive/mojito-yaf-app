<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<!-- ================================================================= -->
<!--
NAME: index.html
AUTH: William J Edney (wje)
NOTE: Copyright (C) 2012 Yahoo! Inc.
-->
<!-- ================================================================= -->

<html>
  <head>

    <title>A Mojito / YAF integration test project</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <style type="text/css">
      #Message
      {
        position: absolute;
        border: solid 1px black;

        left: 10%;
        right: 10%;
        bottom: 0px;

        height: 2em;
      }
    </style>

    <!-- The fully minified version of YUI -->
    <!--<script type="text/javascript"
      src="http://yui.yahooapis.com/3.7.2/build/yui/yui-min.js"></script>-->

    <!-- The debug version of YUI -->
    <script type="text/javascript">
      //  Put YUI in debug mode so that we can step through it.
      YUI_config = {filter: 'debug', useConsoleOutput: true};
    </script>
    <script type="text/javascript" src="http://yui.yahooapis.com/3.7.2/build/yui/yui-debug.js"></script>

    <script type="text/javascript" src="./scripts/mojitoDriver.js"></script>
    <script type="text/javascript" src="./scripts/mojitoMojits.js"></script>
    <script type="text/javascript" src="./scripts/mojitoTest.js"></script>

    <script type="text/javascript" src="./tests/test-dispatch.js"></script>

    <script type="text/javascript">
      YUI().use(['event', 'test'], function (Y) {

          var button = Y.one('#RunTestButton');

          button.on('click', function (e) {
            var runner = Y.Test.Runner;

            alert('got here');

            runner.subscribe(runner.TEST_PASS_EVENT,
              function (data) {
                alert('Test: ' + data.testName + ' passed.');
                });

            runner.subscribe(runner.TEST_FAIL_EVENT,
              function (data) {
                alert('Test: ' + data.testName + ' failed. Msg: ' + data.error.message);
             });

            runner.run();
            });
      });
    </script>

  </head>
  <body>
    <button id="RunTestButton">Run tests</button>
    <span id="Message"></span>
  </body>
</html>
